version=2
settings_table=CREATE TABLE SETTINGS(ST_ID INTEGER PRIMARY KEY, ST_PARAM  VARCHAR(40) NOT NULL, ST_VALUE  VARCHAR(40) NOT NULL);
maps_table=CREATE TABLE MAPS(MP_ID INTEGER PRIMARY KEY, MP_NAME VARCHAR(50) NOT NULL, MP_BUILDING  VARCHAR(40), MP_FLOOR INTEGER, MP_FILE BLOB, MP_PATH VARCHAR2(2000));
colors_table=CREATE TABLE COLORS(CL_ID INTEGER PRIMARY KEY, CL_NAME VARCHAR(20) NOT NULL, CL_VALUE VARCHAR(7) NOT NULL);
object_types_table=CREATE TABLE OBJECT_TYPES(OT_ID INTEGER PRIMARY KEY, OT_TYPE  VARCHAR(20) NOT NULL, OT_CL_ID INTEGER CONSTRAINT FK_CL REFERENCES COLORS (CL_ID), OT_RL_ID INTEGER CONSTRAINT FK_RL_OT REFERENCES ROLES (RL_ID));
place_types_table=CREATE TABLE PLACE_TYPES(PT_ID INTEGER PRIMARY KEY, PT_TYPE VARCHAR(30) NOT NULL);
places_table=CREATE TABLE PLACES(PL_ID INTEGER PRIMARY KEY, PL_PT_ID INTEGER NOT NULL CONSTRAINT FK_PT REFERENCES PLACE_TYPES (PT_ID), PL_NAME VARCHAR(30) NOT NULL, PL_MP_ID  INTEGER NOT NULL CONSTRAINT PL_MP REFERENCES MAPS (MP_ID), PL_POSX NUMERIC, PL_POSY NUMERIC);
objects_table=CREATE TABLE OBJECTS(OB_ID INTEGER PRIMARY KEY, OB_OT_ID INTEGER NOT NULL CONSTRAINT FK_OT REFERENCES OBJECT_TYPES (OT_ID), OB_NAME VARCHAR(30) NOT NULL, OB_PL_ID INTEGER CONSTRAINT FK_PL REFERENCES PLACES (PL_ID), OB_UPD_DATE INTEGER, OB_POSX NUMERIC, OB_POSY NUMERIC);
object_info_table=CREATE TABLE OBJECT_INFO(OI_OB_ID INTEGER NOT NULL CONSTRAINT FK_OB REFERENCES OBJECTS (OB_ID), OI_PR_ID INTEGER NOT NULL CONSTRAINT FK_PR REFERENCES PARAMETERS (PR_ID), OI_VALUE VARCHAR(40) NOT NULL);
users_table=CREATE TABLE USERS(US_ID INTEGER PRIMARY KEY, US_NAME VARCHAR(20) NOT NULL, US_PASSWORD VARCHAR(20) NOT NULL, US_FIRST_NAME VARCHAR(20), US_LAST_NAME VARCHAR(30), US_LAST_LOGIN DATE, US_KEY VARCHAR(16), US_RL_ID INTEGER CONSTRAINT FK_RL REFERENCES ROLES (RL_ID));
user_logs_table=CREATE TABLE USER_LOGS(UL_US_ID INTEGER NOT NULL CONSTRAINT FK_US REFERENCES USERS (US_ID), UL_DATE DATE NOT NULL);
parametres_table=CREATE TABLE PARAMETERS(PR_ID INTEGER PRIMARY KEY, PR_NAME VARCHAR(40) NOT NULL);
roles_table=CREATE TABLE ROLES(RL_ID INTEGER PRIMARY KEY, RL_NAME VARCHAR(15) NOT NULL, RL_LEVEL INTEGER NOT NULL);